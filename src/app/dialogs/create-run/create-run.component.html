<div class="container">
    <p id="title">Create Run</p>
    <div class="tab-container">
        <div class="tab">
            <div class="option">
                <p>Lobby Name</p>
                <input [(ngModel)]="runData.name" maxlength="20">
            </div>
            <div class="option">
                <p>Mode</p>
                <select [disabled]="usingPreset" [(ngModel)]="runData.mode" (change)="changeMode()">
                    <option [ngValue]="runMode.Speedrun">Speedrun</option>
                    <option [ngValue]="runMode.Casual">Casual</option>
                    <option [ngValue]="runMode.Lockout">Lockout</option>
                </select>
            </div>
            <div class="option" *ngIf="runData.mode !== runMode.Casual">
                <p>Category</p>
                <select [(ngModel)]="runData.category" (change)="changeCategory()">
                    <option *ngFor="let category of categoryOptions" [ngValue]="category.key">{{ category.displayName }}</option>
                </select>
            </div>
            <div *ngIf="runData.mode === runMode.Casual">
                <div class="option">
                    <p>Password (optional)</p>
                    <input [(ngModel)]="password" maxlength="20">
                </div>
                <br />
                <div><label matTooltip="Enables damage between ALL players." matTooltipPosition="after"><input type="checkbox" [disabled]="usingPreset" [(ngModel)]="runData.enablePvp">PVP</label></div>
            </div>
            <div *ngIf="runData.mode !== runMode.Casual">
                <br />
                <label matTooltip="Require players to be in the same level for cell pickups." matTooltipPosition="after"><input type="checkbox" [disabled]="usingPreset || (runData.mode === runMode.Lockout && runData.teams === 1)" [(ngModel)]="runData.requireSameLevel">Same level</label>
            </div>
            
            <div *ngIf="runData.mode !== runMode.Casual && runData.category === 0">
                <div class="option">
                    <p>Modifiers</p>
                </div>
                <div><label matTooltip="Players by default need to all be on their own zoomer between the hub worlds at the same time once for it to be able to go at full speed, this disables that." matTooltipPosition="after"><input type="checkbox" [disabled]="usingPreset" [(ngModel)]="runData.allowSoloHubZoomers">Allow solo hub zoomer usage</label></div>
                <div><label matTooltip="Enables damage between ALL players." matTooltipPosition="after"><input type="checkbox" [disabled]="usingPreset" [(ngModel)]="runData.enablePvp">PVP</label></div>
                <div><label matTooltip="Disables Lava Tube Skip." matTooltipPosition="after"><input type="checkbox" [disabled]="usingPreset" [(ngModel)]="runData.noLTS">No LTS</label></div>
                <div class="option">
                    <p>Citadel Skip</p>
                    <select [(ngModel)]="runData.citadelSkip">
                        <option *ngFor="let option of citadelSkipOptions" [ngValue]="option">{{ citadelOptions[option] }}</option>
                    </select>
                </div>
            </div>
            <button [disabled]="runData.name.length === 0" (click)="createRun()">Create Run</button>
            <button [disabled]="runData.name.length === 0" class="offline" (click)="createOfflineRun()">Offline Run</button>
            
        </div>
        <div class="tab">
            <div *ngIf="runData.mode !== runMode.Casual">
                <div class="option">
                    <p>Teams (for races)</p>
                    <select [(ngModel)]="runData.teams" (change)="changeTeams()">
                        <option *ngFor="let teams of teamsOptions" [ngValue]="teams">{{ runData.mode === runMode.Lockout && teams === 1 ? "Free for All" : teams }}</option>
                    </select>
                </div>
                <div class="option">
                    <p>Timer Countdown</p>
                    <select [(ngModel)]="runData.countdownSeconds">
                        <option *ngFor="let secs of countdownOptions" [ngValue]="secs">{{ secs }} Seconds</option>
                    </select>
                </div>
                <div class="option">
                    <p>Password (optional)</p>
                    <input [(ngModel)]="password" maxlength="20">
                </div>
                <div class="option">
                    <mat-slide-toggle [(ngModel)]="runData.submitPbs" matTooltip="Runs by teams with guest accounts will not be submitted." matTooltipPosition="after"><span>Submit PBs</span></mat-slide-toggle>
                </div>
                <button *ngIf="tournamentPreset && tournamentPreset.presetIsVisible && !usingPreset" (click)="usePreset()">{{ tournamentPreset.presetButtonText }}</button>
            </div>
        </div>
    </div>
</div>
